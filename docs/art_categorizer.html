---
title: Art Categorizer
Layout: page
---


<!-- <input id="photo" type="file">
<div id="result"></div>

<script>

    async function loaded(reader){
    const response = await fetch("https://mosb-art-categorizer.hf.space/run/predict", {
        method: "POST", header:{"Content-Type": "application/json" },
        body: JSON.stringify({data: [reader.result]})});
    const json = await response.json();
    const label = json['data'][0]['label'];
    result.innerHTML = `<br/> <img src = "${raeder.result}" width="500"> <p>${label}</p>`
    }
    function read(){
        const reader = new FileReader();
        reader.addEventListener('load', ()=> loaded(reader))
        reader.readAsDataURL(photo.files[0]);
    }
    photo.addEventListener('input', read);
</script> -->






<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Upload and Predict</title>
</head>
<body>
    <h1>Upload an Image and Get Prediction</h1>
    <input type="file" id="imageUpload" accept="image/*">
    <button onclick="predict()">Predict</button>
    <p id="result"></p>

    <script type="module">
        import { Client } from "https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js";

        async function predict() {
            const fileInput = document.getElementById('imageUpload');
            const file = fileInput.files[0];

            const client = await Client.connect("mosB/art-categorizer");
            const result = await client.predict("/predict", { 
                image: file 
            });

            document.getElementById('result').innerText = JSON.stringify(result.data, null, 2);
        }

        window.predict = predict;
    </script>
</body> -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Upload and Predict</title>
</head>
<body>
    <h1>Upload an Image and Get Prediction</h1>
    <input type="file" id="imageUpload" accept="image/*">
    <br>
    <img id="imagePreview" src="" style="max-width:300px; margin-top: 20px;">
    <br>
    <button onclick="predict()">Predict</button>
    <p id="result"></p>

    <script type="module">
        import { Client } from "https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js";

        // Display the chosen image as soon as it's selected
        document.getElementById('imageUpload').addEventListener('change', (event) => {
            const file = event.target.files[0];
            const imgPreview = document.getElementById('imagePreview');
            const reader = new FileReader();
            reader.onload = (e) => {
                imgPreview.src = e.target.result;
            };
            reader.readAsDataURL(file);
        });

        async function predict() {
            const fileInput = document.getElementById('imageUpload');
            const file = fileInput.files[0];

            // Make prediction
            const client = await Client.connect("mosB/art-categorizer");
            const result = await client.predict("/predict", { 
                image: file 
            });

            // Show the first label
            const firstLabel = result.data[0].label;
            document.getElementById('result').innerText = firstLabel;
        }

        window.predict = predict;
    </script>
</body>